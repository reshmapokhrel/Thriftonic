<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login To Thriftonic</title>
    <link rel="stylesheet" href="login.css" />
  </head>
  <body style="">
    <div
      class="hero"
      style="
        background-image: linear-gradient(
            rgba(0, 0, 0, 0.5),
            rgba(0, 0, 0, 0.5)
          ),
          url('./images/bg.jpg');
      "
    >
      <div class="form-box">
        <div class="button-box">
          <div id="btn"></div>
          <button type="button" class="toggle-btn" onclick="login()">
            Log In
          </button>
          <button type="button" class="toggle-btn" onclick="register()">
            Register
          </button>
        </div>
        <form
          action="login.php"
          method="post"
          id="login"
          class="input-group"
          style="left: 50px"
        >
          <input
            type="text"
            name="email"
            class="input-field"
            placeholder="Email"
            required
            name="Email"
          />
          <input
            type="password"
            name="password"
            class="input-field"
            placeholder="Enter Password"
            name="Password"
            required
          />
          <input type="hidden" name="cart_item" id="offline_cart_items" />
          <input type="checkbox" class="checkbox" /><span
            >Remember Password</span
          >
          <button type="submit" class="submit-btn">Log In</button>
        </form>

        <form
          id="register"
          class="input-group"
          action="register.php"
          method="post"
        >
          <input
            type="text"
            name="fn"
            id="fn"
            class="input-field"
            placeholder="Full Name*"
            onkeyup="validateFullName()"
            required
          />
          <span id="full-name-error"></span>

          <select name="type" id="type">
            <option value="0">--Buyer --</option>
            <option value="seller">--Seller--</option>
          </select>
          <div class="gender" id="gender">
            <input type="radio" id="male" name="gender" value="M" />
            <label for="male">Male</label>
            <input type="radio" id="female" name="gender" value="F" />
            <label for="css">Female</label>
            <input type="radio" id="other" name="gender" value="O" />
            <label for="css">Other</label><br />
          </div>
          <input
            type="text"
            name="email"
            id="email"
            class="input-field"
            placeholder=" Email*"
            onkeyup="validateEmail()"
            required
          />
          <span id="email-error" class="error-message"></span>
          <input
            type="text"
            name="address"
            class="input-field"
            placeholder="Address*"
            required
          />
          <input
            type="password"
            name="password"
            id="password"
            class="input-field"
            placeholder="Password*"
            required
          />

          <input
            type="text"
            name="phone"
            id="phone"
            class="input-field"
            placeholder="eg: 9845256987"
            onkeyup="validatePhoneNumber()"
            pattern="[0-9]{10}"
          />
          <span id="phone-number-error"></span>

          <button type="submit" class="submit-btn">Register</button>
        </form>
      </div>
    </div>
    <script>
      var x = document.getElementById("login");
      var y = document.getElementById("register");
      var z = document.getElementById("btn");

      function register() {
        x.style.left = "-400px";
        y.style.left = "50px";
        z.style.left = "110px";
      }
      function login() {
        x.style.left = "50px";
        y.style.left = "450px";
        z.style.left = "0px";
      }
    </script>

    <script>
      // sending cart items while login, if logged in store to table cart
      var cart = document.getElementById("offline_cart_items");
      var cart_items = localStorage.getItem("thrift_cart");
      cart.setAttribute("value", cart_items);
    </script>
    <!-- // Validation  -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
      function validateFullName() {
        const fullName = document.getElementById("fn").value;
        const fullNameError = document.getElementById("full-name-error");

        if (fullName.length < 3) {
          fullNameError.innerHTML =
            "Full name must be at least 3 characters long";
          fullNameError.style.color = "red";
        } else {
          fullNameError.innerHTML = "";
        }
      }

      function validateEmail() {
        const email = document.getElementById("email").value;
        const emailError = document.getElementById("email-error");

        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        if (!emailRegex.test(email)) {
          emailError.innerHTML = "Invalid email address";
          emailError.style.color = "red";
        } else {
          emailError.innerHTML = "";
        }
      }

      function validatePhoneNumber() {
        const phoneNumber = document.getElementById("phone").value;
        const phoneNumberError = document.getElementById("phone-number-error");

        const phoneNumberRegex = /^\d{10}$/;

        if (!phoneNumberRegex.test(phoneNumber)) {
          phoneNumberError.innerHTML = "Phone number must be 10 digits long";
          phoneNumberError.style.color = "red";
        } else {
          phoneNumberError.innerHTML = "";
        }
      }
    </script>
  </body>
</html>
